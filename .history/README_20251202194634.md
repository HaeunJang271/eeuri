# 이으리 (Eeuri)

학교 밖 청소년을 위한 비공식 안내자이자, 감정·진로·정보를 함께 정리해주는 AI 친구

## 프로젝트 소개

이으리는 학교를 다니지 않는 청소년들을 위해 만들어진 AI 동반자입니다. 감정을 나누고, 진로를 고민하고, 필요한 정보를 함께 찾아가는 친구 같은 존재입니다.

### 이으리가 할 수 있는 일

- 감정에 귀 기울이기: 감정에 귀 기울이고, 안전하게 공감합니다

- 정보를 쉽게 정리해주기: 학교 밖 청소년 관련 정보를 쉽고 짧게 정리해줍니다

- 기억하고 이어주기: 사용자의 말에서 관심사와 목표를 기억하고, 이전 대화의 흐름을 이어서 "너만을 위한 다음 한 걸음"을 제안합니다

- 비난하지 않기: 절대 판단하거나 비난하지 않습니다

## 기술 스택

- **프론트엔드**: Next.js 14 (App Router)
- **백엔드**: Next.js API Routes
- **AI**: OpenAI GPT (gpt-4o-mini 기본)
- **언어**: TypeScript

## 시작하기

### 1. 의존성 설치

```bash
npm install
```

### 2. 환경 변수 설정

`.env.local` 파일을 생성하고 다음 내용을 추가하세요:

```env
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
```

### 3. 개발 서버 실행

```bash
npm run dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000)을 열어 확인하세요.

## 프로젝트 구조

```
eeuri/
├── app/
│   ├── api/
│   │   ├── eeuri/
│   │   │   └── route.ts          # 이으리 API 라우트
│   │   └── memory/
│   │       ├── route.ts          # 메모리 저장/불러오기
│   │       └── summarize/
│   │           └── route.ts      # 대화 요약 생성
│   ├── chat/
│   │   ├── page.tsx              # 채팅 페이지
│   │   └── page.module.css
│   ├── layout.tsx                # 루트 레이아웃
│   ├── page.tsx                  # 홈 페이지
│   ├── page.module.css
│   └── globals.css               # 전역 스타일
├── lib/
│   ├── memory.ts                 # 메모리 타입 및 유틸리티
│   ├── memory-store.ts          # 메모리 저장소
│   └── faq-data.ts              # FAQ 데이터
├── package.json
├── tsconfig.json
└── next.config.js
```

## 주요 기능

### 홈 화면

- 이으리 소개
- 서비스 안내
- 주의 문구 (상담사 대체 불가)
- 채팅 시작 버튼

### 채팅 화면

- 이으리와의 실시간 대화
- 위급상황 안내 문구
- 메시지 입력 및 전송
- 대화 저장 기능 (메모리 저장)

#### 명령어

채팅 입력창에서 다음 명령어를 사용할 수 있습니다:

- **`/요약`** 또는 **`/요약해줘`**: 오늘 나눈 대화를 요약해줍니다. 4가지 항목(오늘의 고민/주제, 지금 감정 상태, 이으리가 전하고 싶은 한 문장, 내일 해보면 좋을 아주 작은 한 가지)으로 정리된 요약 카드가 표시됩니다.
- **`/리셋`** 또는 **`/reset`**: 대화를 초기화합니다. 확인 모달이 표시되며, 확인 시 localStorage에 저장된 메시지와 요약이 모두 삭제되고 이으리의 기본 인사 메시지만 남습니다.

💡 팁: "/"를 입력하면 자동완성 목록이 표시됩니다.

## API 엔드포인트

### POST /api/eeuri

이으리와의 대화를 처리하는 API입니다.

**요청 본문:**

```json
{
  "messages": [{ "role": "user", "content": "오늘 너무 불안해요" }],
  "userId": "user_1234567890"
}
```

**응답:**

```json
{
  "message": "이으리의 응답 메시지"
}
```

### GET /api/memory?userId=...

사용자의 메모리를 불러옵니다.

### POST /api/memory

메모리를 저장합니다.

### POST /api/memory/summarize

대화를 요약해서 메모리로 저장합니다.

## 주의사항

⚠️ **중요**: 이으리는 전문 상담사나 의사가 아닙니다. 위급한 상황이나 심각한 정신 건강 문제가 있다면 반드시 전문 기관이나 상담전화에 연락하세요.

- **청소년전화 1388**: 1588-1388
- **위급상황**: 119 또는 지역 상담센터

## 메모리 기능

이으리는 사용자와의 대화를 기억합니다. 모든 메시지를 저장하는 것이 아니라, 중요한 의미만 요약해서 저장합니다.

### 작동 방식

1. **대화 요약**: 대화가 끝날 때마다 LLM이 장기적으로 기억할 만한 정보 1~3개를 추출합니다.

   - 감정/상태: 반복적으로 나타나는 감정이나 상태
   - 관심사: 지속적인 관심사나 취미
   - 목표: 장기적인 목표나 계획
   - 특성: 사용자의 성향이나 특성

2. **메모리 관리**:

   - 동일한 정보가 반복되면 가중치가 증가합니다
   - 새로운 주제가 나오면 추가됩니다
   - 오래 안 쓰인 메모리는 자동으로 약화됩니다
   - 상위 3개의 메모리만 유지됩니다

3. **자연스러운 사용**: 다음 대화에서 이으리가 기억을 자연스럽게 언급합니다.
   - 예: "최근에 '창작하고 싶은데 에너지가 잘 안 난다'고 했던 얘기가 떠올라."

### 사용 방법

- 대화를 나눈 후 "대화 저장하기" 버튼을 클릭하거나 페이지를 떠나면 자동으로 저장됩니다.
- 다음에 다시 대화를 시작하면 이으리가 이전 대화를 기억합니다.

## 향후 계획

- [ ] Firebase 연동 (메모리 영구 저장)
- [ ] TODO 리스트 생성 기능
- [ ] 한 주 계획 짜기 기능
- [ ] 감정 분석 및 추적

### 🤝 기여 / 피드백

이으리는 아직 성장 중인 프로젝트입니다.
학교 밖 청소년, 청소년 활동가, 상담사, 개발자, 디자이너 등
함께 이 프로젝트를 더 나은 방향으로 키우고 싶은 분들의 제안을 환영합니다.

## 🧑‍💻 만든 사람

이름: 장하은
역할: 기획 · 디자인 · 개발
연락처: 인스타그램 @jang_heiley

## 라이선스

이 프로젝트는 개인 프로젝트입니다.
